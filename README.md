# ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡πá‡∏Ñ‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß ‡∏õ‡∏µ 3 (2024)
# Minimal User Registry API & UI (Express + MySQL)

![Architecture Banner](Review/R1.png)

[![Node.js](https://img.shields.io/badge/Backend-Node.js%2020-43853D?logo=node.js&logoColor=white)](./server)
[![Express](https://img.shields.io/badge/API-Express-000?logo=express&logoColor=white)](./server/index.js)
[![MySQL](https://img.shields.io/badge/Database-MySQL%208-0F5D95?logo=mysql&logoColor=white)](https://www.mysql.com/)
[![Docker](https://img.shields.io/badge/Deploy-Docker%20Compose-2496ED?logo=docker&logoColor=white)](./server/docker-compose.yml)
[![License](https://img.shields.io/badge/License-ISC-lightgrey)](./LICENSE)

‡πÄ‡∏ß‡πá‡∏ö‡πÅ‡∏≠‡∏õ‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏•‡πá‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö: ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô / ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ (CRUD) ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (Validation), Health Check, Metrics ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô ‡πÅ‡∏•‡∏∞‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå SQL ‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏±‡∏ö Collation ‡πÄ‡∏õ‡πá‡∏ô `utf8mb4` ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô

---

## üìã ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡πÄ‡∏î‡πà‡∏ô
- ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ (POST /users)
- ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (GET /users)
- ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏£‡∏≤‡∏¢‡∏Ñ‡∏ô (GET /users/:id)
- ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (PUT /users/:id)
- ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (DELETE /users/:id)
- ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤/‡∏Å‡∏£‡∏≠‡∏á‡∏ù‡∏±‡πà‡∏á UI (JS ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ö‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå)
- Metrics ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô (‡∏à‡∏≥‡∏ô‡∏ß‡∏ô users) (GET /metrics)
- Retry ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏Ç‡∏ì‡∏∞‡πÅ‡∏£‡∏Å‡πÄ‡∏£‡∏¥‡πà‡∏° (‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö Docker ‡∏ó‡∏µ‡πà MySQL ‡∏¢‡∏±‡∏á‡∏ö‡∏π‡∏ï‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏£‡πá‡∏à)
- ‡∏ü‡∏£‡∏≠‡∏ô‡∏ó‡πå‡πÄ‡∏≠‡∏ô‡∏î‡πå Static (Vanilla HTML/CSS/JS) ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á build

---

## üèóÔ∏è ‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏•‡∏∞‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå

```
root/
‚îú‚îÄ frontend/            # ‡πÑ‡∏ü‡∏•‡πå‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö (Form ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô + ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ)
‚îÇ  ‚îú‚îÄ index.html        # ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
‚îÇ  ‚îú‚îÄ user.html         # ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏™‡∏î‡∏á/‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
‚îÇ  ‚îú‚îÄ config.js         # ‡∏ï‡∏£‡∏ß‡∏à‡∏´‡∏≤ BASE_URL ‡∏Ç‡∏≠‡∏á API ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ú‡πà‡∏≤‡∏ô /health
‚îÇ  ‚îú‚îÄ ui.js,user.js     # ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô UI, ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API, ‡πÄ‡∏£‡∏ô‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ï‡∏≤‡∏£‡∏≤‡∏á
‚îÇ  ‚îî‚îÄ *.css             # ‡∏™‡πÑ‡∏ï‡∏•‡πå (Minimal UI)
‚îú‚îÄ server/
‚îÇ  ‚îú‚îÄ index.js          # Express API + MySQL pool + validation + graceful shutdown
‚îÇ  ‚îú‚îÄ package.json      # npm scripts (dev/start)
‚îÇ  ‚îú‚îÄ Dockerfile        # Image ‡∏Ç‡∏≠‡∏á API (Production minimal)
‚îÇ  ‚îî‚îÄ docker-compose.yml# Stack: MySQL + phpMyAdmin + API
‚îú‚îÄ users.sql            # ‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• + ‡∏ï‡∏≤‡∏£‡∏≤‡∏á + seed ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á
‚îî‚îÄ README.md            # ‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ
```

---

## üîå Endpoints (REST)

| Method | Path          | Description                    | Body / Query |
|--------|---------------|--------------------------------|--------------|
| GET    | /             | Service meta / endpoints list  | - |
| GET    | /users        | ‡∏î‡∏∂‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î               | - |
| POST   | /users        | ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÉ‡∏´‡∏°‡πà                | JSON payload |
| GET    | /users/:id    | ‡∏î‡∏∂‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏£‡∏≤‡∏¢‡∏Ñ‡∏ô                 | - |
| PUT    | /users/:id    | ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ              | JSON payload (‡πÄ‡∏â‡∏û‡∏≤‡∏∞ field ‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏°‡∏≤) |
| DELETE | /users/:id    | ‡∏•‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ                        | - |
| GET    | /health       | Health + db status             | - |
| GET    | /metrics      | Metrics (users_total)          | - |
| GET    | /debug/pingdb | ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏ß‡∏•‡∏≤ NOW() ‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•   | - |

```

‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç Validation:
- firstname / lastname: ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö, ‡∏ï‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 255
- age: ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç 0‚Äì120
- gender: ‡∏´‡∏ô‡∏∂‡πà‡∏á‡πÉ‡∏ô `‡∏ä‡∏≤‡∏¢|‡∏´‡∏ç‡∏¥‡∏á|‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏`
- interests: ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1, ‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô ~500 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£
- description: ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö, ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î ~1000 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£

---

## üöÄ ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (‡πÇ‡∏´‡∏°‡∏î‡∏û‡∏±‡∏í‡∏ô‡∏≤ Local)

### 1) ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô
- Node.js 20+
- MySQL 8 (‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ Docker)

### 2) ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ MySQL ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á)
```powershell
mysql -u root -p < users.sql
```

### 3) ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Environment Variables (‡πÑ‡∏ü‡∏•‡πå `.env` ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå `server/`)
```env
PORT=8000
DB_HOST=127.0.0.1
DB_USER=root
DB_PASSWORD=root
DB_NAME=webdb
DB_PORT=3306
```

### 4) ‡∏£‡∏±‡∏ô Backend
```powershell
cd server
npm install
npm run dev
```
API ‡∏à‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏µ‡πà `http://localhost:8000` (‡∏ñ‡πâ‡∏≤‡∏û‡∏≠‡∏£‡πå‡∏ï‡∏ä‡∏ô ‡∏à‡∏∞‡∏Ç‡∏¢‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô 8001, 8002 ‚Ä¶ ‡πÉ‡∏´‡πâ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏ô console)

### 5) ‡πÄ‡∏õ‡∏¥‡∏î Frontend
‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå `frontend/index.html` ‡πÅ‡∏•‡∏∞ `frontend/user.html` ‡∏ï‡∏£‡∏á ‡πÜ (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏ä‡πâ VS Code Live Server ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏ú‡πà‡∏≤‡∏ô `http://127.0.0.1` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á CORS ‡∏ó‡∏µ‡πà‡∏ö‡∏≤‡∏á‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ö‡∏•‡πá‡∏≠‡∏Å `file://`)

`config.js` ‡∏à‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏´‡∏≤‡∏û‡∏≠‡∏£‡πå‡∏ï API ‡∏ú‡πà‡∏≤‡∏ô `/health` ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡∏•‡∏≠‡∏á 8000‚Äì8004)

---

## üê≥ ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ú‡πà‡∏≤‡∏ô Docker Compose

‡πÑ‡∏ü‡∏•‡πå: `server/docker-compose.yml`

‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ:
- `db`          ‚Üí MySQL 8 (expose 8820:3306)
- `phpmyadmin`  ‚Üí phpMyAdmin (‡∏û‡∏≠‡∏£‡πå‡∏ï 8821)
- `api`         ‚Üí Node.js Express (‡∏û‡∏≠‡∏£‡πå‡∏ï 8000)

### ‡∏£‡∏±‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
```powershell
cd server
docker compose up -d
phpMyAdmin: http://localhost:8821  (user: root / pass: root)
```
# ‡∏†‡∏≤‡∏û‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
![R1](Review/R1.png)
![R2](Review/R2.png)
![R3](Review/R3.png)
![R4](Review/R4.png)
